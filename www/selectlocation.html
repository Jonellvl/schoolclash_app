<!doctype html>
<head>
    <script src="js/jquery-3.1.1.js"></script>
    <link rel="stylesheet" type="text/css" href="css/selectlocation.css" />
    <link rel="stylesheet" type="text/css" href="css/selectlocation.css" />
    <script src="js/selectlocation.js" type="text/javascript"></script>
</head>
<link rel="import" href="header.html">
<link rel="stylesheet" type="text/css" href="css/selectlocation.css" />
<script src="js/selectlocation.js" type="text/javascript"></script>
<script src="js/ajax.js" type="text/javascript"></script>
<script src="js/transitions.js"></script>



<head>

</head>
<body onload="fade_in();">
	<header>

		<!-- Maakt header afbl. donker -->
		<div id="darken">
		</div>
		<!-- Bevat alle content -->
		<div id="header-content">
			<a href="map.html" id="icon">
				<img src="img/maps-button.png"/>
			</a>

			<div id="refresh">
				<img src="img/maps-button.png"/>
			</div>


			<div class="v-align">
				<h1> Select location </h1>

			</div>
		</div>
	</header>
	<div id="blue-line">
	</div>
	<div id="header-content">
	</div>
	<div id="location-blocks"> </div>
</body>

	<script>
		var locationData = JSON.parse(window.localStorage.getItem('questions'));

		function fetchLocations(){
			$("#location-blocks").html("");
			for (var i = locationData.length - 1; i >= 0; i--) {
				data = locationData[i];
	       			$("#location-blocks").append("\
		        	<a href='showquestion.html?id=" + data["id"] + "' class='location-block'>\
						<div class='image'><img src='data:image/jpeg;base64, " + data["image"] + "' /></div>\
						<div class='content'>\
		        			<h3>" + data["title"] + "</h3>\
		        		</div>\
		        	</div>");
			}
		}

		fetchLocations();

		$("#refresh img").click(function() {
			$("#location-blocks").html("<div class='downloading-text'><h3> Downloading </h3></div>");
			downloadFiles();
		});
	</script>
</body>
